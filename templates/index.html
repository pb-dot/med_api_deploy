<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <meta
    name="description"
    content="Web site created using create-react-app"
  />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <title>Med API By pb-dot</title>
    <link rel="stylesheet" href="static/css/style.css">
</head>


<body>
  <div class="container " style="margin-top:10%"> 
    <div class=" outer p-3">
    <h1 class="text-center mt-3"> Med API By pb-dot</h1>

    <form>
                 
      <div class="mb-3">
        <label for="disabledTextInput" class="form-label">Enter Symptoms</label>
        <textarea class="form-control " id="input-text" required rows="5" cols="80"></textarea>
      </div>

      <div class="mb-3">
        <label for="disabledSelect" class="form-label">Select Model</label>

        <select id="model-select">

            <option value="model3">LR + transformer</option>
            <option value="model1">SVM + Tf-idf</option>
            <option value="model2">KNN + Tf-idf</option>
            
        </select>

      </div>

      <button class="btn btn-primary mb-3" type="button" onclick="predict()">Predict</button>
       
    </form>
      
    <h3 class="text-center mb-3" id="prediction-result"></h3>
  </div>
  </div>

    <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
    crossorigin="anonymous"
  ></script>

    <script>
        // Function to make API call and display prediction result
        function predict() {
            const inputText = document.getElementById('input-text').value;
            const selectedModel = document.getElementById('model-select').value;
            const apiUrl = `/predict/${selectedModel}`; // Replace with your API URL

            // Make the POST request to the API
            fetch(apiUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ 'text': inputText }),
            })
            .then(response => response.json())
            .then(data => {
                // Update the HTML with the prediction result
                const predictionResult = document.getElementById('prediction-result');
                predictionResult.innerText = `Predicted Disease : ${data.prediction}`;
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }
    </script>

</body>
</html>
